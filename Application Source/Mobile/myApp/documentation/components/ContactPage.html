<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>myApp documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">myApp documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>
            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>ContactPage</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/pages/contact/contact.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>File Name:       contact.ts
Version Number:  v1.0
Author Name:     Orisha Orrie
Project Name:    Ninshiki
Organization:    Software Sharks
Manual:  Refer to the Ninshiki User Manual at <a href="https://github.com/OrishaOrrie/SoftwareSharks/blob/master/Documentation/User%20Manual.pdf">https://github.com/OrishaOrrie/SoftwareSharks/blob/master/Documentation/User%20Manual.pdf</a></p>
<h2 id="update-history-">Update History:</h2>
<p>Date         Author        Description</p>
<h2 id="21-07-2018-orisha-created-component">21/07/2018   Orisha        Created component</h2>
<p>Functional Description:
  Provides interface to allow user to contact Bramhope via email</p>

    </p>




<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>page-contact</code></td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>contact.html</code></td>
            </tr>


        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#alertController">alertController</a>
                            </li>
                            <li>
                                <a href="#email">email</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#modalCtrl">modalCtrl</a>
                            </li>
                            <li>
                                <a href="#myGroup">myGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#navCtrl">navCtrl</a>
                            </li>
                            <li>
                                <a href="#positionLat">positionLat</a>
                            </li>
                            <li>
                                <a href="#positionLong">positionLong</a>
                            </li>
                            <li>
                                <a href="#sendLocation">sendLocation</a>
                            </li>
                            <li>
                                <a href="#submitted">submitted</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#getGeolocation">getGeolocation</a>
                            </li>
                            <li>
                                <a href="#getGoogleAddress">getGoogleAddress</a>
                            </li>
                            <li>
                                <a href="#onSubmit">onSubmit</a>
                            </li>
                            <li>
                                <a href="#openModal">openModal</a>
                            </li>
                            <li>
                                <a href="#postMessage">postMessage</a>
                            </li>
                            <li>
                                <a href="#presentAlert">presentAlert</a>
                            </li>
                            <li>
                                <a href="#shouldLocationBeSent">shouldLocationBeSent</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(navCtrl: NavController, modalCtrl: ModalController, http: <a href="https://angular.io/api/common/http/HttpClient" target="_blank">HttpClient</a>, alertController: AlertController, fb: <a href="https://angular.io/api/forms/FormBuilder" target="_blank">FormBuilder</a>, geolocation: Geolocation)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/pages/contact/contact.ts:70</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Upon construction, the form and its validation is initialized. Also gets geolocation data</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>navCtrl</td>
                                                  
                                                        <td>
                                                                    <code>NavController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Controls navigation</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>modalCtrl</td>
                                                  
                                                        <td>
                                                                    <code>ModalController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Controls the modal that is presented. Used for the About page modal</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/common/http/HttpClient" target="_blank" >HttpClient</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Provides the service to handle HTTP requests</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>alertController</td>
                                                  
                                                        <td>
                                                                    <code>AlertController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Allows for alerts to appear </p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>fb</td>
                                                  
                                                        <td>
                                                                    <code><a href="https://angular.io/api/forms/FormBuilder" target="_blank" >FormBuilder</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Provides the service to build a form</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>geolocation</td>
                                                  
                                                        <td>
                                                                    <code>Geolocation</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>Ionic Cordova plugin to natively handle geolocation data</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
        <h3 id="methods">
            Methods
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getGeolocation"></a>
                        <span class="name">
                            <b>
                            getGeolocation
                            </b>
                            <a href="#getGeolocation"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>getGeolocation()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="171" class="link-to-prism">src/pages/contact/contact.ts:171</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Uses the Ionic geolocation module to obtain the current longitude and lattitude</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="getGoogleAddress"></a>
                        <span class="name">
                            <b>
                            getGoogleAddress
                            </b>
                            <a href="#getGoogleAddress"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>getGoogleAddress(lat: , lng: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="186" class="link-to-prism">src/pages/contact/contact.ts:186</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Makes an API call to Google Maps to get the address from the geolocation data</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>lat</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Current latitude value</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>lng</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Current longitude value</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                            </div>
                                <div class="io-description">
                                    <p>A JSON array with various details of the address as returned by the Google Maps API</p>

                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="onSubmit"></a>
                        <span class="name">
                            <b>
                            onSubmit
                            </b>
                            <a href="#onSubmit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>onSubmit()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="106" class="link-to-prism">src/pages/contact/contact.ts:106</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Called upon valid form submission. Obtains values to submit from form, then retrieves geolocation data if specified,
and finally posts the data to the email server.</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="openModal"></a>
                        <span class="name">
                            <b>
                            openModal
                            </b>
                            <a href="#openModal"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>openModal()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">src/pages/contact/contact.ts:96</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Opens the About modal</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="postMessage"></a>
                        <span class="name">
                            <b>
                            postMessage
                            </b>
                            <a href="#postMessage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>postMessage(name: , email: , message: , address: )</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="148" class="link-to-prism">src/pages/contact/contact.ts:148</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Completes the HTTP POST request to the email server with the specified data</p>
</div>

                            <div class="io-description">
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>name</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Name value from form</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>email</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Email value from form</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>message</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Message value from form</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>address</td>
                                                    
                                                    <td>
                                                            No
                                                    </td>
                                                    

                                                        <td>
                                                                <code><p>Address value as determined by getGoogleAddress(), if specified</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                            <div>
                            </div>
                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                                <div class="io-description">
                                    
                                </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="presentAlert"></a>
                        <span class="name">
                            <b>
                            presentAlert
                            </b>
                            <a href="#presentAlert"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>presentAlert()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="131" class="link-to-prism">src/pages/contact/contact.ts:131</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Alert component that is called upon form submission</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="shouldLocationBeSent"></a>
                        <span class="name">
                            <b>
                            shouldLocationBeSent
                            </b>
                            <a href="#shouldLocationBeSent"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
<code>shouldLocationBeSent()</code>
                    </td>
                </tr>


                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="164" class="link-to-prism">src/pages/contact/contact.ts:164</a></div>
                            </td>
                        </tr>


                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Evaluates to true if the Send Location checkbox is checked in the form</p>
</div>

                            <div class="io-description">
                                <b>Returns : </b>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="alertController"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            alertController
                            </b>
                            <a href="#alertController"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>alertController:     <code>AlertController</code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>AlertController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="82" class="link-to-prism">src/pages/contact/contact.ts:82</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">Allows for alerts to appear </div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="email"></a>
                        <span class="name">
                            <b>
                            email
                            </b>
                            <a href="#email"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>email:     <code></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new FormControl(&#x27;&#x27;, [Validators.required, Validators.email] )</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/pages/contact/contact.ts:46</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>FormControl used to validate email input</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="modalCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            modalCtrl
                            </b>
                            <a href="#modalCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>modalCtrl:     <code>ModalController</code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>ModalController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">src/pages/contact/contact.ts:81</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">Controls the modal that is presented. Used for the About page modal</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="myGroup"></a>
                        <span class="name">
                            <b>
                            myGroup
                            </b>
                            <a href="#myGroup"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>myGroup:     <code></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>new FormGroup({
    name: new FormControl(),
    email: new FormControl(),
    message: new FormControl()
  })</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">src/pages/contact/contact.ts:66</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>FormGroup used as a model for form input</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            navCtrl
                            </b>
                            <a href="#navCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span><code>navCtrl:     <code>NavController</code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NavController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">src/pages/contact/contact.ts:81</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description">Controls navigation</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="positionLat"></a>
                        <span class="name">
                            <b>
                            positionLat
                            </b>
                            <a href="#positionLat"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>positionLat:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">src/pages/contact/contact.ts:56</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Latitude value obtained by the Geolocation module</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="positionLong"></a>
                        <span class="name">
                            <b>
                            positionLong
                            </b>
                            <a href="#positionLong"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>positionLong:     <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">src/pages/contact/contact.ts:61</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Longitude value obtained by the Geolocation module</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="sendLocation"></a>
                        <span class="name">
                            <b>
                            sendLocation
                            </b>
                            <a href="#sendLocation"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>sendLocation:     <code></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>true</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/pages/contact/contact.ts:51</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Determines whether the user&#39;s geolocation should be sent with the user query</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="submitted"></a>
                        <span class="name">
                            <b>
                            submitted
                            </b>
                            <a href="#submitted"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <code>submitted:     <code></code>
</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>false</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="41" class="link-to-prism">src/pages/contact/contact.ts:41</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Evaluates to true when a server response is received.</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Geolocation } from &#x27;@ionic-native/geolocation&#x27;;
import { Component } from &#x27;@angular/core&#x27;;
import { NavController, AlertController } from &#x27;ionic-angular&#x27;;
import { HttpClient } from &#x27;@angular/common/http&#x27;;
import { FormControl, Validators, FormGroup, FormBuilder } from &#x27;@angular/forms&#x27;;
import { ModalController } from &#x27;ionic-angular&#x27;;
import { AboutPage } from &#x27;../about/about&#x27;;

/**
 * File Name:       contact.ts
 * Version Number:  v1.0
 * Author Name:     Orisha Orrie
 * Project Name:    Ninshiki
 * Organization:    Software Sharks
 * Manual:  Refer to the Ninshiki User Manual at https://github.com/OrishaOrrie/SoftwareSharks/blob/master/Documentation/User%20Manual.pdf
 * Update History:
 * ------------------------------------------
 * Date         Author        Description
 * 21/07/2018   Orisha        Created component
 * ------------------------------------------
 * Functional Description:
 *  Provides interface to allow user to contact Bramhope via email
 */

/*
  Generated class for the ModelLoaderProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/

@Component({
  selector: &#x27;page-contact&#x27;,
  templateUrl: &#x27;contact.html&#x27;
})
export class ContactPage {

  /**
   * Evaluates to true when a server response is received.
   */
  submitted &#x3D; false;

  /**
   * FormControl used to validate email input
   */
  email &#x3D; new FormControl(&#x27;&#x27;, [Validators.required, Validators.email] );

  /**
   * Determines whether the user&#x27;s geolocation should be sent with the user query
   */
  sendLocation &#x3D; true;

  /**
   * Latitude value obtained by the Geolocation module
   */
  positionLat &#x3D; 0;
  
  /**
   * Longitude value obtained by the Geolocation module
   */
  positionLong &#x3D; 0;

  /**
   * FormGroup used as a model for form input
   */
  myGroup &#x3D; new FormGroup({
    name: new FormControl(),
    email: new FormControl(),
    message: new FormControl()
  });

  /**
   * Upon construction, the form and its validation is initialized. Also gets geolocation data
   * @param navCtrl Controls navigation
   * @param modalCtrl Controls the modal that is presented. Used for the About page modal
   * @param http Provides the service to handle HTTP requests
   * @param alertController Allows for alerts to appear 
   * @param fb Provides the service to build a form
   * @param geolocation Ionic Cordova plugin to natively handle geolocation data
   */
  constructor(public navCtrl: NavController, public modalCtrl : ModalController, private http: HttpClient, 
    public alertController: AlertController, private fb: FormBuilder, private geolocation: Geolocation) {
    
    this.myGroup &#x3D; this.fb.group({  
      &#x27;name&#x27;: [&#x27;&#x27;, Validators.compose([Validators.required, Validators.minLength(1)])],
      &#x27;email&#x27;: [&#x27;&#x27;, Validators.compose([Validators.maxLength(70), Validators.pattern(&#x27;^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$&#x27;), Validators.required])],
      &#x27;message&#x27;: [&#x27;&#x27;, Validators.compose([Validators.required, Validators.minLength(1)])]
    });

    this.getGeolocation();
  }

  /**
	 * Opens the About modal
	 */
  openModal() {
    var data &#x3D; { message : &#x27;hello world&#x27; };
    var homePage &#x3D; this.modalCtrl.create(AboutPage,data);
    homePage.present();
  }
    
  /**
   * Called upon valid form submission. Obtains values to submit from form, then retrieves geolocation data if specified,
   * and finally posts the data to the email server.
   */
  onSubmit() {
    const contactName &#x3D; this.myGroup.get(&#x27;name&#x27;).value;
    const contactEmail &#x3D; this.myGroup.get(&#x27;email&#x27;).value;
    const contactMessage &#x3D; this.myGroup.get(&#x27;message&#x27;).value;
    this.presentAlert();
    this.myGroup.reset();

    if (this.shouldLocationBeSent() &#x3D;&#x3D; true) {
      this.getGeolocation();
      let googleAddress: any;
      this.getGoogleAddress(this.positionLat, this.positionLong)
        .then(data &#x3D;&gt; {
          googleAddress &#x3D; data.results[0].address_components[3].long_name + &#x27;, &#x27; + 
            data.results[0].address_components[4].long_name + &#x27;, &#x27; + data.results[0].address_components[5].long_name;
           this.postMessage(contactName, contactEmail, contactMessage, googleAddress);
        })
        .catch(error &#x3D;&gt; console.error(error));    
    } else {
      this.postMessage(contactName, contactEmail, contactMessage, &#x27;Undisclosed location&#x27;);
    }
  }

  /**
   * Alert component that is called upon form submission
   */
  presentAlert() {
    let alert &#x3D; this.alertController.create({
      title: &#x27;Message sent!&#x27;,
      subTitle: &#x27;Your message has been sent. A member of our team will get back to you as soon as possible.&#x27;,
      buttons: [&#x27;Dismiss&#x27;]
    });
  
    alert.present();
  }

  /**
   * Completes the HTTP POST request to the email server with the specified data
   * @param name Name value from form
   * @param email Email value from form
   * @param message Message value from form
   * @param address Address value as determined by getGoogleAddress(), if specified
   */
  postMessage(name, email, message, address) {
    console.log(&#x27;Name: &#x27; + name + &#x27; Email: &#x27; + email + &#x27; Msg: &#x27; + message + &#x27; Address: &#x27; + address);
    let messageToSend &#x3D; message + &#x27;\nSent from:  &#x27; + address;
    this.http.post(&#x27;https://us-central1-testproject-ee885.cloudfunctions.net/app/sendmail&#x27;,
    {&#x27;subject&#x27;: name, &#x27;text&#x27;: messageToSend, &#x27;email&#x27;: email}
      ).subscribe(data1 &#x3D;&gt; {
        console.log(data1);
        if (data1 &#x3D;&#x3D; &#x27;sent&#x27;) {
          this.submitted &#x3D; true;
        }
      });
  }

  /**
   * Evaluates to true if the Send Location checkbox is checked in the form
   */
  shouldLocationBeSent() {
    return this.sendLocation;
  }

  /**
   * Uses the Ionic geolocation module to obtain the current longitude and lattitude
   */
  getGeolocation() {
    this.geolocation.getCurrentPosition().then((response) &#x3D;&gt; {
      this.positionLat &#x3D; response.coords.latitude;
      this.positionLong &#x3D; response.coords.longitude;
    }).catch((error) &#x3D;&gt; {
      console.error(&quot;Error getting geolocation data: &quot; + error);
    });
  }

  /**
   * Makes an API call to Google Maps to get the address from the geolocation data
   * @param lat Current latitude value
   * @param lng Current longitude value
   * @returns A JSON array with various details of the address as returned by the Google Maps API
   */
  getGoogleAddress(lat, lng) {
    const latlng &#x3D; lat + &#x27;,&#x27; + lng;
    return fetch(&#x27;https://maps.googleapis.com/maps/api/geocode/json?latlng&#x3D;&#x27; + latlng + &#x27;&amp;key&#x3D;AIzaSyD1GI0J6QPOYxqxBMG4Z2oIr-ctibYoRiI&#x27;)
      .then(
        response &#x3D;&gt; {
          return response.json();
        });
  }

}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;ion-header&gt;
    &lt;ion-navbar&gt;
        &lt;ion-title&gt;Contact Us&lt;/ion-title&gt;
        &lt;ion-buttons end&gt;
            &lt;button ion-button icon-only (click) &#x3D;&quot;openModal()&quot;  &gt;
             &lt;ion-icon name&#x3D;&quot;help-circle&quot; color&#x3D; &quot;dark&quot;&gt;&lt;/ion-icon&gt;
           &lt;/button&gt;
          &lt;/ion-buttons&gt;
      &lt;/ion-navbar&gt;
&lt;/ion-header&gt;

&lt;ion-content padding id &#x3D;&quot;formcol&quot;&gt;
    &lt;p class&#x3D; &quot;instructions&quot;&gt;Got a query about one of Brahope&#x27;s products? Want to request a quote? Send Bramhope a message!&lt;/p&gt; 
    &lt;form [formGroup]&#x3D;&quot;myGroup&quot;  *ngIf&#x3D;&quot;!submitted&quot; &gt;
 
      &lt;ion-item class&#x3D;&quot;inputs&quot;&gt;
        &lt;ion-label class &#x3D; &#x27;bob&#x27; color&#x3D;&quot;secondary&quot; stacked&gt;Full Name&lt;/ion-label&gt;
        &lt;ion-input id&#x3D;&quot;name&quot; type&#x3D;&quot;text&quot; required formControlName&#x3D;&quot;name&quot;&gt;&lt;/ion-input&gt;
      &lt;/ion-item&gt;
      &lt;ion-item class&#x3D;&quot;inputs&quot;&gt;
        &lt;ion-label class &#x3D; &#x27;bob&#x27; color&#x3D;&quot;secondary&quot; stacked&gt;Email Address&lt;/ion-label&gt;
        &lt;ion-input id&#x3D;&quot;email&quot; type&#x3D;&quot;email&quot; required formControlName&#x3D;&quot;email&quot; &gt;&lt;/ion-input&gt;
      &lt;/ion-item&gt;
      &lt;ion-item class&#x3D;&quot;inputs&quot;&gt;
        &lt;ion-label class &#x3D; &#x27;bob&#x27; color&#x3D;&quot;secondary&quot; stacked&gt;Message&lt;/ion-label&gt;
        &lt;ion-input id&#x3D;&quot;message&quot; type&#x3D;&quot;text&quot; required formControlName&#x3D;&quot;message&quot;&gt;&lt;/ion-input&gt;
      &lt;/ion-item&gt;
    &lt;/form&gt;
      &lt;ion-item class&#x3D;&quot;inputs&quot;&gt;
        &lt;ion-label style&#x3D;&quot;font-weight: bold&quot; color&#x3D;&quot;secondary&quot;&gt;Send location data&lt;/ion-label&gt;
        &lt;ion-checkbox color&#x3D;&quot;secondary&quot; checked&#x3D;&quot;true&quot; [(ngModel)]&#x3D;&quot;sendLocation&quot;&gt;&lt;/ion-checkbox&gt;
      &lt;/ion-item&gt;
 
    &lt;button ion-button full round color&#x3D; &quot;tertiary&quot; [disabled]&#x3D;&quot;!myGroup.valid&quot; (click)&#x3D;&quot;onSubmit()&quot;&gt;Send&lt;/button&gt;
  
&lt;/ion-content&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><ion-header>    <ion-navbar>        <ion-title>Contact Us</ion-title>        <ion-buttons end>            <button ion-button icon-only (click) ="openModal()"  >             <ion-icon name="help-circle" color= "dark"></ion-icon>           </button>          </ion-buttons>      </ion-navbar></ion-header><ion-content padding id ="formcol">    <p class= "instructions">Got a query about one of Brahope\'s products? Want to request a quote? Send Bramhope a message!</p>     <form [formGroup]="myGroup"  *ngIf="!submitted" >       <ion-item class="inputs">        <ion-label class = \'bob\' color="secondary" stacked>Full Name</ion-label>        <ion-input id="name" type="text" required formControlName="name"></ion-input>      </ion-item>      <ion-item class="inputs">        <ion-label class = \'bob\' color="secondary" stacked>Email Address</ion-label>        <ion-input id="email" type="email" required formControlName="email" ></ion-input>      </ion-item>      <ion-item class="inputs">        <ion-label class = \'bob\' color="secondary" stacked>Message</ion-label>        <ion-input id="message" type="text" required formControlName="message"></ion-input>      </ion-item>    </form>      <ion-item class="inputs">        <ion-label style="font-weight: bold" color="secondary">Send location data</ion-label>        <ion-checkbox color="secondary" checked="true" [(ngModel)]="sendLocation"></ion-checkbox>      </ion-item>     <button ion-button full round color= "tertiary" [disabled]="!myGroup.valid" (click)="onSubmit()">Send</button>  </ion-content></div>'
    var COMPONENTS = [{'name': 'AboutPage', 'selector': 'page-about'},{'name': 'ContactPage', 'selector': 'page-contact'},{'name': 'FeedbackPage', 'selector': 'page-feedback'},{'name': 'HomePage', 'selector': 'page-home'},{'name': 'ImagerecPage', 'selector': 'page-imagerec'},{'name': 'MyApp', 'selector': ''},{'name': 'ResultsPage', 'selector': 'page-results'},{'name': 'UtilitiesPage', 'selector': 'page-utilities'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'ContactPage'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ContactPage.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <script src="../js/menu-wc.js"></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
